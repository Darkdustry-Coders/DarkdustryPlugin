# Contributing

## Основные рекомендации

### Используйте IDE.
В частности, IntelliJ IDEA. Загрузите (бесплатную) Community Edition [здесь](https://www.jetbrains.com/idea/download/). Некоторые используют другие инструменты, например VS Code, но мы лично не рекомендую их для разработки на Java и Kotlin.


### Всегда тестируйте свои изменения.
Не отправляйте что-то, не запустив плагин на тестовом сервере, чтобы проверить, компилируется и работает ли оно.


### Не делайте больших изменений, пока не обсудите их сначала.
Если вы хотите добавить новую механику/функцию или изменить большое количество кода, сначала свяжитесь с командой разработчиков.
Для большинства изменений в этом нет необходимости. Мы просто хочу знать, если вы делаете что-то важное, чтобы мы могли дать совет и/или убедиться, что вы не тратите впустую на это время.


### Не делайте бессмысленные PR.
Да, встречаются пробелы, лишние новые строки, пустые отступы и другие мелкие ошибки. Если вы реализуете PR с изменением *фактического кода*, не стесняйтесь исправлять форматирование в непосредственной близости от ваших изменений, но, пожалуйста, не тратьте время на бессмысленные изменения.


### Используйте коллекции и классы `arc`, когда это возможно.
Вместо использования `java.util.List`, `java.util.HashMap` и других стандартных коллекций Java, используйте `Seq`, `ObjectMap` и другие эквиваленты из `arc.struct`.
Почему? Потому что это то, что использует остальная часть кодовой базы, а стандартные коллекции имеют много мусора и проблем с удобством использования, связанных с ними.  
В редких случаях, когда требуется параллелизм, вы можете использовать стандартные классы Java для этой цели (например, `CopyOnWriteArrayList`).  

Что обычно нужно изменять:
- `HashSet` -> `ObjectSet`
- `HashMap` -> `ObjectMap`
- `List` / `ArrayList` / `Stack` -> `Seq`
- `java.util.Queue` -> `arc.struct.Queue`
- *И многое другое*


### Избегайте примитивных типов (Integer, Boolean)
Никогда не создавайте переменные или коллекции с примитивнвми типами `Seq<Integer>` или `ObjectMap<Integer, ...>`. Используйте специализированные для этой задачи коллекции, например, `IntSeq` и `IntMap`.


### Избегайте объемного кода и ненужных геттеров/сеттеров.
Это ситуативно, но по сути это означает, что нужно избегать использования геттеров и сеттеров без крайней необходимости. Публичных или защищенных полей должно быть достаточно для большинства вещей. 
Если в будущем что-то нужно будет инкапсулировать, IntelliJ может сделать это несколькими щелчками мыши.


### Не создавайте методы без необходимости.
Если только блок кода не очень большой или используется более чем в 1-2 местах, не разбивайте его на отдельные методы. Создание ненужных методов только создает путаницу и может снизить производительность.  
